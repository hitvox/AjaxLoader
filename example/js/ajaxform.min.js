(function(e,t,n,r){function o(t,n){this.element=t;this.selector=t.selector;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="ajaxForm",s={load_to:"data-load-to",load_to_default:"#ajax-form-container",method_selector:"method",data_type:"text",data_return:null,content_source:"action",in_animation:"fadeIn",in_animation_speed:200,out_animation:"fadeOut",out_animation_speed:200,loading_placeholder:'<div style="width: 100%; text-align: center; margin-top: 0px; padding-top: 5px; float: left;"><img src="js/ajax-loader.gif"></div>'};o.prototype.init=function(){this.listen()};o.prototype.listen=function(){var t=this;e(n).on("submit",this.selector,function(e){e.preventDefault();t.load(this)})};o.prototype.load=function(t){var n=e(t),r=n.attr(this.options.content_source),i=n.attr(this.options.load_to)||this.options.load_to_default,s=n.attr(this.options.method_selector),o=n.serialize(),u=this.options.data_type,a=n.attr("name"),f=this;e.ajax({type:s,url:r,data:o,dataType:u,beforeSend:function(){e(i)[f.options.out_animation](f.options.out_animation_speed,function(){e(i).show().html(f.options.loading_placeholder)})},error:function(t,n,r){console.log(n);console.log(r)},success:function(n){e(i)[f.options.out_animation](f.options.out_animationspeed,function(){if(f.options.data_return!==null){e(this).html(f.options.data_return(n,a))}else{if(f.options.data_type=="html"){var t=e("<div>").html(n);e(this).html(t.find(content_selector))}else{e(this).html(n)}}e(this)[f.options.in_animation](f.options.in_animationspeed)})}})};e.fn[i]=function(t){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}return this}})(jQuery,window,document)